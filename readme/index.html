<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<head lang="en">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>Klondike Solitaire</title>
	<!-- Framework CSS -->
	<link rel="stylesheet" href="assets/blueprint-css/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/blueprint-css/print.css" type="text/css" media="print">
	<link href="styles/shCore.css" rel="stylesheet" type="text/css" >
	<link href="styles/shCoreDefault.css" rel="stylesheet" type="text/css" >
	<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" >
	
	<!--[if lt IE 8]><link rel="stylesheet" href="assets/blueprint-css/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/blueprint-css/plugins/fancy-type/screen.css" type="text/css" media="screen, projection">
	<style type="text/css" media="screen">
		p, table, hr, .box { margin-bottom:25px; }
		.box p { margin-bottom:10px; }
	</style>
	
	<script type="text/javascript" src="scripts/shCore.js"></script>
	<script type="text/javascript" src="scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="scripts/shBrushXml.js"></script>
</head>


<body>
	<div class="container">
	
		<h3 class="center alt">&ldquo;Klondike Solitaire&rdquo; Documentation by &ldquo;Code This Lab S.r.l.&rdquo; v1.0</h3>
		
		<hr>
		
		<h1 class="center">&ldquo;Klondike Solitaire&rdquo;</h1>
		
		<div class="borderTop">
			<div class="span-6 colborder info prepend-1">
				<p class="prepend-top">
					<strong>
					Created: 24/02/2015<br>
					By: <a href="http://www.codethislab.com" target="_blank">Code This Lab S.r.l.</a><br>
					Email: <a href="mailto:info@codethislab.com">info@codethislab.com</a>
					</strong>
				</p>
			</div><!-- end div .span-6 -->		
	
			<div class="span-12 last">
				<p class="prepend-top append-0">Thank you for purchasing our game. If you have any questions that are beyond the scope of this help file, please feel free to email via user page contact form <a href="http://codecanyon.net/user/codethislab">here</a>. Thanks so much!</p>
			</div>
		</div><!-- end div .borderTop -->
		
		<hr>
		
		<h2 id="toc" class="alt">Table of Contents</h2>
		<ol class="alpha">
			<li><a href="#desc">Description</a></li>
                        <li><a href="#content">Folder Contents</a></li>
			<li><a href="#desc">Getting Started</a></li>
			<li><a href="#htmlStructure">HTML Structure</a></li>
			<li><a href="#cssFiles">CSS Files and Structure</a></li>
			<li><a href="#javascript">JavaScript</a></li>
			<li><a href="#game_function">Game functions</a></li>
			<li><a href="#spritesheet">Change Card Set</a></li>
			<li><a href="#disable_sound">Disable Sounds</a></li>
			<li><a href="#wp">Wordpress Plugin</a></li>
		</ol>
		
		<hr>
		
		<h3 id="desc"><strong>A) Description</strong> - <a href="#toc">top</a></h3>
		<p>Klondike Solitaire is a HTML5 Game. Enjoy this stylish version of the classic Klondike Solitaire!<br>
			The ZIP package contains the game with 1600x768 resolution that scales to fit the whole screen device<br>
			The game is fully compatible with all most common mobile devices.<br>
			Sounds are enabled for mobile but we can't grant full audio compatibility on all mobile devices due to some well-know issue between some mobile-browser and HTML5.
			 So if you want to avoid sound loading, please read <a href="#disable_sound">Disable Sound</a> section). <br>
			<strong>WARNING:</strong> Sounds can't be enabled for Windows Phone as this kind of device have unsolved issues with 'audio' and 'video' tag.
		</p>
		<hr>
		
                <h3 id="content"><strong>B) Folder Contents</strong> - <a href="#toc">top</a></h3>
		<p>
			The item package contains the following folders:
			<ul>
			<li><strong>ctl_arcade_wp_plugin</strong>:<br> This folder contains the game version (zip file inside) that can be used with wordpress plugin <a href="https://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421">CTL Arcade</a><br/><br/></li>
			<li><strong>game</strong>:<br> This folder contains the full source code that you can edit as you need.<br/><br/></li>
			<li><strong>live_demo</strong>:<br>This folder contains the obfuscated version of the game. <strong>WARNING</strong>: you should use this version if you don't have to edit the original game.<br/><br/></li>
			<li><strong>readme</strong>:<br>This folder contains the readme of the game.
			</ul>
		</p>
		<hr>  
                
		<h3 id="desc"><strong>C)Getting Started</strong> - <a href="#toc">top</a></h3>
			<p>To install the game just upload on your server the game folder game1136x640.
			
			<ul>
				<li><strong>Game Embedding: </strong>The proper way to embed the game is in a full-screen web page or in an iframe.<br>
                                        In the first case the game will fit the screen size, in the second, that of the iframe.<br>
                                        If the iframe size matches that of the screen, the game will fit accordingly.<br> 
                                        The alignment will be proportioned to the aspect ratio of the game.<br>
                                        To install the game in a WordPress website, we suggest to use our plugin <a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab"> CTL Arcade </a>. <br><br>
				
				<li><strong>Save Score:</strong> if you need to call your php function for saving score, you can add it in the <strong>index.html</strong> file:
					<pre class="brush: js">
						$(document).ready(function(){
							var oMain = new CMain();
							
							 $(oMain).on("save_score", function(evt,iScore) {
								//alert("iScore: "+iScore);
							});
						});
					</pre>
				</li>
				<li> <strong>Localization:</strong> You can easily change game text for different languages, changing string in <strong>CLang.js</strong></li>
				
				<pre class="brush: js">
                                    var TEXT_PRELOADER_CONTINUE = "START"; 
                                    var TEXT_GAMEOVER  = "YOU WIN";
                                    var TEXT_SCORE     = "SCORE";
                                    var TEXT_TIME      = "TIME";

                                    var TEXT_HELP1     = "THE CARD PILES IN BOARD, CAN BE BUILD DOWN BY DECRESCENT CARD RANK WITH ALTERNATE COLORS";
                                    var TEXT_HELP2     = "THE GOAL IS TO BUILD UP FOUR FOUNDATION BY SUIT, FROM ACE TO KING ";

                                    var TEXT_HELP1_PAGE2 = "SCORE SYSTEM";
                                    var TEXT_HELP2_PAGE2 = "YOU CAN EARN POINT BY DIFFERENT ACTION:"; 

                                    var TEXT_WIN_PAGE2 =  " Points for any card you drop on Foundation for the first time";
                                    var TEXT_WIN2_PAGE2 =  " Points for any card you snap on Board for the first time"

                                    var TEXT_LOSE1_PAGE2 =  "Time is your enemy! You lose "; 
                                    var TEXT_LOSE2_PAGE2 = " Points every ";
                                    var TEXT_LOSE3_PAGE2 = " seconds";

                                    var TEXT_MODE_1 = "1 card showing";
                                    var TEXT_MODE_3 = "3 cards showing";
                                    var TEXT_EASY = "EASY";
                                    var TEXT_NORMAL = "NORMAL";
                                    var TEXT_TOP_MODE = "CHOSE GAME MODE";

                                    var TEXT_SHARE_IMAGE = "200x200.jpg";
                                    var TEXT_SHARE_TITLE = "Congratulations!";
                                    var TEXT_SHARE_MSG1 = "You collected <strong>";
                                    var TEXT_SHARE_MSG2 = " points</strong>!<br><br>Share your score with your friends!";
                                    var TEXT_SHARE_SHARE1 = "My score is ";
                                    var TEXT_SHARE_SHARE2 = " points! Can you do better";
				</pre>
				
				<li><strong>Game option:</strong> You can easily customize game setting when creating a new instance of the game in <strong>index.html</strong> file</li>
				<pre class="brush: js">
					var oMain = new CMain({
                                            timer_losepoint:30000, //Timer (in ms) of losing points
                                            points_to_lose: -8, //Number of losing points
                                            points_to_suit:15, //Points win by snap a card on suit
                                            points_to_board:5, //Points win by snap a card on board
                                            
                                            /////////////GENERAL SETTINGS
                                            audio_enable_on_startup:false, //ENABLE/DISABLE AUDIO WHEN GAME STARTS 
                                            fullscreen:true,            //SET THIS TO FALSE IF YOU DON'T WANT TO SHOW FULLSCREEN BUTTON
                                            check_orientation:true     //SET TO FALSE IF YOU DON'T WANT TO SHOW ORIENTATION ALERT ON MOBILE DEVICES 
                                           });
				</pre>
			</ul>
			</p>
		<hr>
		
		<h3 id="htmlStructure"><strong>D)HTML Structure</strong> - <a href="#toc">top</a></h3>
		<p>This game have the canvas tag in the body. The ready event into the body calls the main function of the game: CMain(). 
		<br>The head section declares all the javascript functions of the game. The whole project uses a typical object-oriented approach.<br> 
		In the init function there are 8 mapped <a href="#events">events</a> that can be useful eventually for stats</p>
		
		<pre class="brush: js">
			<body  ondragstart="return false;" ondrop="return false;" >
				  <script>
				   $(document).ready(function(){
							$(oMain).on("start_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN PLAY BUTTON IN MENU SCREEN IS CLICKED
							});
							 
							$(oMain).on("end_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN THE EXIT BUTTON IS CLICKED.
							});
							
							$(oMain).on("restart_level", function(evt,iScore) {
									//THIS EVENT IS TRIGGERED WHEN GAME STARTS
							});
							
							$(oMain).on("end_level", function(evt,iScore) {
									//THIS EVENT IS TRIGGERED WHEN THE EXIT BUTTON IS CLICKED.
							 });
							 
							$(oMain).on("save_score", function(evt,iScore, szMode) {
									//THIS EVENT IS TRIGGERED WHEN REELS STOPS AFTER A SPIN. IT CAN BE USEFUL TO CALL PHP SCRIPTS (NOT PROVIDED IN THE PACKAGE) THAT SAVE THE SCORE.
							 });
							 
							 $(oMain).on("show_interlevel_ad", function(evt) {
									//THIS EVENT IS TRIGGERED EVERY N SPIN. MAY BE USEFUL TO CALL ADS SCRIPT. PLEASE EDIT PARAM 'num_spin_ads_showing' in INDEX.HTML TO SET THIS VALUE.
							 });
							 
							 $(oMain).on("restart_level", function(evt,iScore) {
									//THIS EVENT IS TRIGGERED WHEN GAME IS RESTARTED
							 });
							 
							 $(oMain).on("share_event", function(evt,iScore) {
									//THIS EVENT IS TRIGGERED WHEN GAME OVER IS SHOWN.
							 });
						   });
						
				  </script>
				  
				<canvas id="canvas" class='ani_hack' width="1600" height="768"> </canvas>
			</body>
		</pre>
		
		<hr>

		<h3 id="cssFiles"><strong>E) CSS Files and Structure</strong> - <a href="#toc">top</a></h3>

		<p>The game use two CSS files. The first one is a generic reset file. Many browser interpret the default behavior of html elements differently. By using a general reset CSS file, we can work round this. 
		Keep in mind, that these values might be overridden somewhere else in the file.</p> 

		<p>The second file contains all of the specific stylings for the canvas and some hack to be fully compatible with all most popular mobile devices</p>  

		<hr>
		
		<h3 id="javascript"><strong>F) JavaScript</strong> - <a href="#toc">top</a></h3>
		
		<p>This game contains:</p>
		
		<ol>
			<li>jQuery</li>
			<li>Our custom scripts</li>
			<li>CreateJs plugin</li>
                        <li>Howler Sound library</li>
                        <li>Screenfull library</li>
                        <li>Platform library</li>
		</ol>
		  
		<ol>
			<li>jQuery is a Javascript library that greatly reduces the amount of code that you must write.</li>
			<li>The game have the following js files:
	
			<ul>
				<li>CMain: the main class called by the index file. <br>This file controls the sprite_lib.js file that manages the sprite loading, the loop game and initialize the canvas with the CreateJs library</li>
				<li>ctl_utils: this file manages the canvas resize and its centering</li>
                                <li>screenfull: this is a library that manages fullscreen utility</li>
                                <li>screenfull: this is a library that manages audio utility</li>
				<li>sprite_lib: this class loads all images declared in the main class</li>
				<li>settings: general game settings</li>
				<li>CLang: global string variables for language localization</li>
				<li>CPreloader: simple text preloader to show resources loading progress</li>
				<li>CMenu: simple menu with the play button</li>
                                <li>CCreditsPanel: this panel shows credits of the game</li>
				<li>CGfxButton: this class create a standard button</li>
				<li>CToggle: this class create a standard toggle button</li>
				<li>CTextButton: this class create a standard text button</li>
				<li>CGame: this class manages the game logic</li>
				<li>CInterface: this class controls game GUI that contains text and buttons</li>
				<li>CEndPanel: the final game over panel</li>
				<li>CHelpPanel: the help panel that is shown before game starting</li>
				<li>CCard: this class manages the card object</li>
				<li>CModeMenu: this class manages the panel where the user can choose the easy or hard mode</li>
				<li>CScore: this class manages the score text that appears when the player gain or lose some points</li>
                                <li>CAreYouSurePanel: this class ensure the confirm to exit from game</li>
                                <li>ios_fullscreen: this class manages fullscreen on iOS </li>
			</ul>

			</li>
			<li>CreateJs is a suite of modular libraries and tools which work together to enable rich interactive content on open web technologies via HTML5.</li>
                        <li>Howler is a javascript Audio library.</li>
                        <li>Screenfull is a javascript library that manages the fullscreen.</li>
                        <li>Platform is a javascript library that manages the browser and device info</li>
		</ol>
		
		<p>Resuming, the complete game flow is the following: </p>
		<ol>
			<li>The index.html file calls the CMain.js file after ready event is called</li>
			<li>The main class calls CPreloader.js to init preloader text and start sprite loading</li>
			<li>When all sprites contained in "/sprites" and "/sounds" folder are loaded, the main class removes the preloader and calls the CMenu.js file that shows the main menu</li>
			<li>If the user click the Play button in main menu, the CModeMenu.js class is called and the player can choose between Easy and Hard mode</li>
			<li>When the user choose in Mode Panel, the CGame.js class is called and the game starts</li>
			<li>The User play the game</li>
			<li>If the player stackes all card suits, the game calls the Win Panel</li>	
			<li>If the user click on the exit button in the up-right corner, the game returns to the menu screen</li>	
		</ol>		
		
		<hr>
		
		<h3 id="game_function"><strong>G) Game functions</strong> - <a href="#toc">top</a></h3>
			In this section will be explained all the most important functions used in <strong>CGame.js</strong> file. <br><br>
		
		<ul>
			<li><strong>_init()</strong> <br>
				This function attach on the canvas some game sprites like background (oBg), GUI and initialize the touch events..
			</li>
			<li><strong>_shuffleCard()</strong> <br>
				This function simply shuffles tha cerd deck.
			</li>
			<li><strong>_setBoard()</strong> <br>
				This function init the starting card displacement and card deck.
			</li>
			<li><strong>pickCard()</strong> <br>
				This function is called when the player click a card to move.
			</li>
			<li><strong>dragCard</strong> <br>
				This function manages the card dragging for Desktop.
			</li>
			<li><strong>onTouchMove</strong> <br>
				This function manages the card dragging for mobile(IOS and Android).
			</li>
			<li><strong>onTouchMoveMS</strong> <br>
				This function manages the card dragging for Windows Phone mobile.
			</li>
			<li><strong>releaseCard()</strong> <br>
				This function is called when the card is released.
			</li>
			<li><strong>_snapOnSuit</strong> <br>
				This function checks if card has been released within a Suit foundation.
			</li>
			<li><strong>_snapOnBoardKing</strong> <br>
				This function check if the King Card can be placed in an empty space in the board.
			</li>
			<li><strong>_checkCardCollision</strong> <br>
				This function checks if a dragged card can be placed under a card pile.
			</li>
			<li><strong>_checkBoard</strong> <br>
				This function refresh logic matrix for the board and if one or more cards must be flipped.
			</li>
			<li><strong>_turnCard</strong> <br>
				This function manages the logic about card deck in Easy Mode.
			</li>
			<li><strong>_turn3Card</strong> <br>
				This function manages the logic about card deck in Hard Mode.
			</li>
			<li><strong>_update</strong> <br>
				This function manages the main game loop.
			</li>
		</ul>
		
		<hr>
		
		<h3 id="spritesheet"><strong>H) Change Card Set</strong> - <a href="#toc">top</a></h3>
		<p>The game contains the card spritesheets that you can edit if you want to change card images. <br>
		Currently each card has following dimensions: 87x134. So if you change card size, be sure to change also card setting in <strong>settings.js</strong> file.</p>
		
		
		<ul>
			<li><strong>cards.png: </strong>If you want to change card graphic please respect symbols and value disposition. 
			<br>
			<br>
			<img src="assets/images/cards.png" alt="cards" height="80%" width="80%"/>
			<br>
			<br>

			</li>
			
		</ul>
		
		<h3 id="disable_sound"><strong>I) Disable Sounds</strong> - <a href="#toc">top</a></h3>
		<p>If you want to disable all the sounds for mobile devices, you have to change the following value in settings.js file:</p>
			<pre class="brush: js">var DISABLE_SOUND_MOBILE = true;</pre>
		
		<br><br>
		
		<h3 id="wp"><strong>J) Wordpress Plugin</strong> - <a href="#toc">top</a></h3>
		<p><a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab">CTL Arcade</a> will allow you to add a real arcade on your worpress website, in this way your users will be more involved and will stay connected longer.<br><br>
			It's possible to add Ads banner at the beginning of each game and at the end of each level. This will give you a new tool to increase your revenues.<br><br>
			Your own users will promote your website sharing their scores on the main Social Networks, with no extra costs for you.<br><br>
			You'll get by default the score-sharing on Twitter. To add Facebook just follow the guideline below.<br><br>
			3 widgets can be added in your pages through a shortcode.<br>
			<ul>
				<li><strong>Game iframe</strong></li>
				<li><strong>Rate the Game</strong></li>
				<li><strong>Leaderboard</strong></li>
			</ul>
			Minimum Requirements:<br><br>
			<ul>
				<li><strong>PHP 4.3</strong></li>
				<li><strong>WordPress 4.3.1</strong></li>
				<li><strong>HTML5</strong></li>
				<li><strong>Canvas</strong></li>
				<li><strong>Javascript / jQuery</strong></li>
			</ul>
			
			<strong>This plugin is designed to work only with games built by Code This Lab.</strong>
			<br><br>
			You can find it <a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab">here!</a> 
			
		</p>
		<a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab">
			<img src="assets/images/ctl_arcade.jpg" alt="ctl arcade" />
		</a>
		
		<br><br>
		
		<p>Once again, thank you so much for purchasing this game. Fell free to contact us if you have any questions or issue relating to this game. No guarantees, but we'll do our best to assist.</p> 
		
		<p class="append-bottom alt large"><a href="http://www.codethislab.com" target="_blank"><strong>CODE THIS LAB S.R.L.</strong></a></p>
		<p><a href="#toc">Go To Table of Contents</a></p>
		
		<hr class="space">
	</div>
	<!-- end div .container -->

	<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
	<script type="text/javascript">
		 SyntaxHighlighter.all()
	</script>
</body>
</html>